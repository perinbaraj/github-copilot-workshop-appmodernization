<div class="project-list-container">
    <div class="page-header">
        <h1>
            <span class="glyphicon glyphicon-briefcase"></span> Projects
        </h1>
    </div>

    <div ng-if="$ctrl.loading" class="loading-spinner">
        <span class="glyphicon glyphicon-refresh"></span>
        <p>Loading projects...</p>
    </div>

    <div ng-if="!$ctrl.loading">
        <div ng-repeat="project in $ctrl.projects" class="project-card">
            <h3>{{ project.name }}</h3>
            <p>{{ project.description }}</p>
            
            <div class="project-meta">
                <span>
                    <strong>Status:</strong> 
                    <span class="label" ng-class="project.status === 'active' ? 'label-success' : 'label-default'">
                        {{ project.status }}
                    </span>
                </span>
                <span ng-if="project.startDate">
                    <strong>Start:</strong> {{ project.startDate | date:'MMM d, yyyy' }}
                </span>
                <span ng-if="project.endDate">
                    <strong>End:</strong> {{ project.endDate | date:'MMM d, yyyy' }}
                </span>
            </div>

            <div class="project-stats" ng-if="$ctrl.projectStats[project.id]">
                <div class="stat-item">
                    <div class="stat-number">{{ $ctrl.projectStats[project.id].total }}</div>
                    <div class="stat-label">Total Tasks</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">{{ $ctrl.projectStats[project.id].inProgress }}</div>
                    <div class="stat-label">In Progress</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">{{ $ctrl.projectStats[project.id].completed }}</div>
                    <div class="stat-label">Completed</div>
                </div>
            </div>
        </div>

        <div ng-if="$ctrl.projects.length === 0" class="empty-state">
            <span class="glyphicon glyphicon-folder-open"></span>
            <h3>No projects found</h3>
        </div>
    </div>
</div>
